---
author: "Prashant Kalvapalle"
date: '`r format(Sys.time(), "%d %B, %Y")`'
output: 
  html_document:
    theme: flatly
    toc: TRUE
    toc_float: TRUE
---

---
title: `r title_name`
---

```{r setup, include=FALSE}
library(knitr)
knitr::opts_chunk$set(echo = F, message = F, warning = F, fig.width = 5, fig.height = 4)

```

## Plotting

Note : X and Y are one of pIDV_9 and pSPB868 : the exact order I have to doublecheck in the lab

```{r plot1}
gfp_order_merged2 <- merged2 %>% 
  arrange(GFP) %>% 
  ungroup() %>% 
  mutate(across(Samples, fct_inorder))

plt_GFP <- ggplot(data = gfp_order_merged2,
                  mapping = aes(y = Samples, x = GFP)) + 
  geom_jitter(width = .1) + 
  geom_point(aes(x = GFP_mean), alpha = .3, colour = 'red') + 
    geom_segment(aes(x = GFP_mean, xend = 0, yend = Samples), alpha = 0.3, colour = 'red')
  
  {plt_GFP + geom_text(data = merged2 %>% select(ends_with('mean')) %>% unique(),  
              mapping = aes(x = GFP_mean, label = GFP_mean %>% round), 
              hjust = -0.3, colour = 'red', alpha = .3)
  } %>% 
print()

plotly::ggplotly(plt_GFP) %>% plotly::style(textposition = 'top right')

```



```{r plotting, echo=T}
# This is work in progress
# merged4 %>% ggplot(aes(Samples, mean, color = Inducer)) + geom_point(size = 3) + geom_errorbar(aes(ymin = mean - sd, ymax = mean + sd), width = 0.25) + scale_shape_manual(values = c(1,16)) -> plt
# plt %<>% format_classic(.) %>% format_logscale()
# plt <- plt + ggtitle('S013 : RBS library 6.2') + ylab('GFP/RFP')
# ggsave('plots and data/S010_faceted.png', height = 3.5, width = 14)
```

## Data tables

Showing raw data and processed data here 

``` {r}
merged2 # format with colours etc for good visualization
```
