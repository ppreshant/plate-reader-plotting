---
title: "Plate reader plotting : S013"
author: "Prashant"
date: "June 2, 2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
source('./general_functions_plate_reading.R')
```

## User inputs


User inputs for multiple sheets

```{r input data, echo = F, message = F}
# User inputs: 1. Enter name of the excel file, 2. Name of the data sheet(S) 3. number of rows and columns in plate reader data 4. Title for plots #comment (file name starts in the previous directory of this Rproject)

flnm <- 'S015_AHL flip timecourse_13-6-19_day1'

flpath <- str_c('../',flnm,'.xlsx')
fl <- read_plateReader_file(flpath) # load all non empty sheets of the excel file into fl - as a list 
sheet_names <- c("C0.a","C1.m","C2.m") # list the sheets to be loaded
n_Rows <- 8; 
n_Cols <- 12;

```

## Data crunching

Copy the tables of GFP, OD, Sample names etc. in excel and run the command below to get it into R
Doing calculations with the tables, relating sample names with the values

```{r data analysis, echo=FALSE}
table_c0 <- extract_from_given_sheet("C0.a", 3, 7) # extracing from each sheet
table_c1 <- extract_from_given_sheet("C1.m", n_Rows, n_Cols)
table_c2 <- extract_from_given_sheet("C2.m", n_Rows, n_Cols)
```

## Data tables

Showing raw data and processed data here 

GFP/RFP values
``` {r}
# merged2 # format with colours etc for good visualization
```


## Plotting

Plotting

```{r plotting, echo=T}
merged4 %>% ggplot(aes(Samples, mean, color = Inducer)) + geom_point(size = 3) + geom_errorbar(aes(ymin = mean - sd, ymax = mean + sd), width = 0.25) + scale_shape_manual(values = c(1,16)) -> plt
plt %<>% format_classic(.) %>% format_logscale()
plt <- plt + ggtitle('S013 : RBS library 6.2') + ylab('GFP/RFP')
# ggsave('plots and data/S010_faceted.png', height = 3.5, width = 14)
```
